
@{
    ViewBag.Title = "Ficha";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<br />


<form id="contenedor2" class="row " style="background-color: cadetblue;border-style:outset;border-width:20px">
    <h1 style="text-align:center">   FICHA MEDICA </h1>
    <h2 style="text-align:center">  Asilo Cabeza de Algodon </h2>
    <h2 style="text-align:center"> <i class="fa fa-hospital" aria-hidden="true"></i> </h2>
    <br />
    <br />
    <br />
    <br />
    <div class="col-sm-3">
        <div class="mb-3">
            <label class="form-label" style="font-weight: bolder;">Id Cita : <input type="text" class="form-control" id="txtIdCita" name="referencia" /></label>
            <button type="button" class="btn btn-dark" id="btBuscar">

                Buscar
            </button>
        </div>

        <div class="mb-3">
            <label class="form-label" style="font-weight: bolder;">Motivo de visita:</label>
            <textarea type="text" class="form-control" id="txtMotivo" name="Cintomas" style="height:200px"></textarea>
        </div>
        <div class="mb-3">
            <label class="form-label" style="font-weight: bolder;">Rseultados:</label>
            <textarea type="text" class="form-control" id="txtResultados" name="Cintomas" style="height:200px"></textarea>
        </div>
    </div>
    <div class="col-sm-3">
        <div class="mb-3">
            <label class="form-label" style="font-weight: bolder;">Especialista:</label>
            <input type="text" class="form-control" id="txtEspecialista" name="referencia" />
        </div>
    </div>


    <div class="col-sm-5">
        <div class="mb-3">
            <label class="form-label" style="font-weight: bolder;">Paciente:<input type="text" class="form-control" id="txtPaciente" name="referencia " style="width: 300px; " /></label>

        </div>
        <div class="mb-3">
            <label class="form-label" style="font-weight: bolder;">Examenes y Medicamentos :</label>
            <textarea type="text" class="form-control" id="txtExamenesMedicamento" name="Cintomas" style="height:200px"></textarea>
        </div>
        <div class="mb-3">
            <label class="form-label" style="font-weight: bolder;"> Observacion Medica :</label>
            <textarea type="text" class="form-control" id="txtObservaciones" name="Cintomas" style="height:200px"></textarea>
        </div>
        <div class="mb-3">
            <label class="form-label" style="font-weight: bolder;font-size:20px" id="txtFecha">---------</label>
            @*<input type="text" class="form-control" id="txtFecha" name="referencia" />*@
        </div>
    </div>
    <div class="col-sm-3">


    </div>
</form>



@section scripts
{
    <script>
        $(function () {
    $("#btBuscar").on("click", function () {
    jQuery.ajax({
    url: '@Url.Action("VistaFicha", "Especialista")' +
    "?IdCita=" + $("#txtIdCita").val(),
    type: "GET",
    dataType: "json",
    contentType: "application/json; charset=utf-8",
    success: function (data) {
    debugger;

        var ob = data.resultado

        //txtPaciente  txtMotivo txtEspecialista txtFecha txtIdCita txtResultados txtExamenesMedicamento

    $("#txtIdCita").val(ob.IdCita)
        $("#txtFecha").text(ob.FechaRegistro)
        $("#txtEspecialista").val(ob.Especialista)
        $("#txtMotivo").val(ob.Cintomas)
        $("#txtResultados").val(ob.Resultados)
        $("#txtPaciente").val(ob.Paciente)

        $("#txtExamenesMedicamento").val(ob.MedicamentosExamanes)
        $("#txtObservaciones").val(ob.Observaciones)


    }

    });

    });

    })

    </script>



}
